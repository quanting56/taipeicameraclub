import{_,f as r,o as y,l as f,c as i,b as t,t as o,m as h,u as k,d as n}from"./index-u1MQQvze.js";import{a as b}from"./index-Dq7h7Pqt.js";const g={class:"modal-content"},w={key:0,class:"loading-container"},C={key:1,class:"activity-post"},T=["innerHTML"],x=["src"],A={__name:"ActivityPostView",setup(H){const d=f(),p=k(),c=r(!0),e=r({subtitle:"",title:"",date:"",weekday:"",author:"",content:"",image:""});y(async()=>{try{const l="https://sheets.googleapis.com/v4/spreadsheets/1v79jdc-uDdTTY6utmpRfF1AFxi4yK1OiHj0ZpeDqGNk/values/TCC_web_activities_data!A1:H51?key=AIzaSyDaYWQfUwStmkZp48GElCLiHLPhbsTarAY",{data:s}=await b.get(l),v=d.params.id,a=s.values.find(m=>m[0]===v);a&&(e.value={subtitle:a[1],title:a[2],date:a[3],weekday:a[4],author:a[5],content:a[6],image:a[7]})}catch(l){console.error("資料載入失敗：",l)}finally{c.value=!1}});const u=()=>{p.push("/activity")};return(l,s)=>(n(),i("div",{class:"modal-backdrop",onClick:h(u,["self"])},[t("div",g,[t("button",{onClick:u,class:"modal-close-btn"},s[0]||(s[0]=[t("i",{class:"bi bi-x"},null,-1)])),c.value?(n(),i("div",w,s[1]||(s[1]=[t("div",{class:"spinner"},null,-1),t("p",null,"資料載入中，請稍後...",-1)]))):(n(),i("div",C,[t("h1",null,o(e.value.date)+"("+o(e.value.weekday)+") "+o(e.value.subtitle)+" "+o(e.value.title),1),t("p",null,"活動籌辦｜TaipeiCameraClub - "+o(e.value.author),1),s[2]||(s[2]=t("hr",null,null,-1)),t("div",{innerHTML:e.value.content},null,8,T),t("img",{src:e.value.image,alt:"活動主圖",class:"post-image"},null,8,x)]))])]))}},D=_(A,[["__scopeId","data-v-2a804144"]]);export{D as default};
